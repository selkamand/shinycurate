% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_helpers.R
\name{query_from_template}
\alias{query_from_template}
\title{Query a single row by id using a template}
\usage{
query_from_template(
  conn,
  id,
  template,
  table = "table1",
  include_id = TRUE,
  on_missing = c("NA", "NULL")
)
}
\arguments{
\item{conn}{A `DBIConnection` to the SQLite DB.}

\item{id}{Row identifier (character scalar).}

\item{template}{Named character vector of SQLite types. Names are columns.
Types can include "TEXT", "REAL", "INTEGER", "BOOLEAN".}

\item{table}{Table name. Default "table1".}

\item{include_id}{Logical; if `TRUE` and "id" not in `names(template)`, it is
prepended to the query result (as character).}

\item{on_missing}{What to return when no row is found: `"NA"` (default; a
named list of typed NAs) or `"NULL"`.}
}
\value{
A named list with names matching `template` (and `id` if requested).
}
\description{
Given a DBI connection, an `id`, and a template (named character
vector of SQLite types, e.g. "TEXT", "REAL", "INTEGER", "BOOLEAN"), fetch the
corresponding row from the table and return a **named list of scalars**
coerced to R types per the template. If no row is found, returns a named list
of `NA` values (typed sensibly) unless `on_missing = "NULL"`.
}
